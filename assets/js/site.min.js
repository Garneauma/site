function formSubmit(response){return $("#contactForm").submit(),!0}$(document).ready(function(){function contactComplete(){$("#contactName").focus()}function animationComplete(){}function goToSelectedPage(pageToGo){if(pageToGo!=currentPage){var currentTimeline,timelineToGo;switch(currentPage){case"home":currentTimeline=tl_homepage;break;case"about":currentTimeline=tl_aboutpage;break;case"contact":currentTimeline=tl_contactpage}switch(pageToGo){case"home":timelineToGo=tl_homepage;break;case"about":timelineToGo=tl_aboutpage;break;case"contact":timelineToGo=tl_contactpage}currentTimeline.timeScale(2),currentTimeline.reverse(),0!==tl_menu_nav.progress()&&(tl_menu_nav.reverse(),$(".nav-trigger").removeClass("active")),setTimeout(function(){$("."+currentPage).addClass("hidden"),$("."+pageToGo).removeClass("hidden"),$("html, body").animate({scrollTop:0},"fast"),timelineToGo.play(),currentTimeline.timeScale(1),currentPage=pageToGo,location.hash=pageToGo},1e3*currentTimeline.duration()/2)}}var currentPage,hash=window.location.hash.substr(1),header=$("#mainHeader"),navTrigger=$("#mainHeader .nav-trigger"),tl_menu_init=new TimelineLite;window.matchMedia("(min-width: 768px)").matches&&(tl_menu_init.from(header,.5,{right:"-170px",ease:Power3.easeOut},"#onload"),tl_menu_init.staggerFrom(navTrigger.find("span"),.5,{left:"-150px",delay:.3,ease:Power3.easeOut},.1,"#onload"),tl_menu_init.from(header.find(".black-1"),.7,{left:"-300px",delay:.5,ease:Power3.easeOut},"#onload"),tl_menu_init.from(header.find(".black-2"),1,{left:"300px",delay:.1,ease:Power3.easeOut},"#onload"),tl_menu_init.from(header.find(".black-3"),.5,{left:"300px",delay:.3,ease:Power3.easeOut},"#onload"),tl_menu_init.from(header.find(".white-1"),.5,{left:"-300px",delay:.2,ease:Power3.easeOut},"#onload"),tl_menu_init.stop());var logoTop=$("#logoTop"),logoShade=$("#logoShade"),description=$(".home-hero .description"),heroButton=$(".home-hero .btn"),tl_homepage=new TimelineLite({onComplete:animationComplete});tl_homepage.from(logoTop,.7,{left:"-1200px",ease:Power3.easeOut},"#onload"),tl_homepage.from(logoShade,.5,{top:"-10px",left:"-10px",autoAlpha:0,delay:.5,ease:Power4.easeOut},"#onload"),tl_homepage.from(description.find(".title"),.5,{top:"-20px",autoAlpha:0,delay:.7,ease:Power3.easeOut},"#onload"),tl_homepage.from(description.find(".bar span"),.5,{width:"0px",delay:.9,ease:Power3.easeOut},"#onload"),tl_homepage.from(description.find(".location"),.5,{top:"-20px",autoAlpha:0,delay:1,ease:Power3.easeOut},"#onload"),tl_homepage.from(heroButton,.5,{top:"+30px",autoAlpha:0,delay:1.3,ease:Power3.easeOut},"#onload"),tl_homepage.stop();var myself=$(".about-content .left-content img"),imageShade=$(".about-content .left-content .bar"),contactCTA=$(".about-content .left-content .cta"),pageContent=$(".about-content .right-content > *"),tl_aboutpage=new TimelineLite({onComplete:animationComplete});tl_aboutpage.from(myself,.7,{left:"-1200px",ease:Power3.easeOut},"#onload"),tl_aboutpage.from(imageShade,.5,{top:"-10px",left:"-10px",autoAlpha:0,delay:.4,ease:Power4.easeOut},"#onload"),tl_aboutpage.from(contactCTA,.5,{top:"+30px",autoAlpha:0,delay:.8,ease:Power3.easeOut},"#onload"),tl_aboutpage.staggerFrom(pageContent,.5,{top:"+30px",autoAlpha:0,ease:Power3.easeOut},.05,"#onload"),tl_aboutpage.stop();var contactHeader=$(".contact-content .hero"),contactLead=$(".contact-content .lead"),contactFormSend=($(".contact-content form"),$(".contact-content .js-send-form")),tl_contactpage=new TimelineLite({onComplete:contactComplete});tl_contactpage.from(contactHeader,.5,{top:"+30px",autoAlpha:0,ease:Power3.easeOut},"#onload"),tl_contactpage.from(contactLead,.5,{top:"+30px",autoAlpha:0,delay:.2,ease:Power3.easeOut},"#onload"),tl_contactpage.staggerFrom($(".contact-content form .field"),.5,{left:"+100px",autoAlpha:0,delay:.4,ease:Power3.easeOut},.1,"#onload"),tl_contactpage.from(contactFormSend,.5,{top:"+30px",autoAlpha:0,delay:.8,ease:Power3.easeOut},"#onload"),tl_contactpage.stop();var menuItem=$("#mainNav ul li"),tl_menu_nav=new TimelineLite;window.matchMedia("(min-width: 768px)").matches?(tl_menu_nav.to(header,.5,{width:"250px",ease:Back.easeOut}),tl_menu_nav.staggerFrom(menuItem,.3,{top:"100px",autoAlpha:0,ease:Power3.easeInOut},.1,"-0.05")):(tl_menu_nav.to(header,.5,{height:"120px",ease:Back.easeOut}),tl_menu_nav.staggerFrom(menuItem,.3,{left:"100px",autoAlpha:0,ease:Power3.easeInOut},.1,"-0.05")),tl_menu_nav.stop(),$(window).load(function(){$("#mainLoader").fadeOut("fast",function(){switch(window.matchMedia("(min-width: 768px)").matches&&tl_menu_init.play(),hash){case"home":currentPage="home",$("."+hash).removeClass("hidden"),tl_homepage.play();break;case"about":currentPage="about",$("."+hash).removeClass("hidden"),tl_aboutpage.play();break;case"contact":currentPage="contact",$("."+hash).removeClass("hidden"),tl_contactpage.play();break;default:currentPage="home",$(".home").removeClass("hidden"),tl_homepage.play()}tl_homepage.play()})}),$(window).resize(function(){tl_homepage.remove(),tl_aboutpage.remove(),tl_contactpage.remove()}),$(".nav-trigger").click(function(e){e.preventDefault(),$(this).hasClass("active")?(tl_menu_nav.timeScale(1.3),tl_menu_nav.reverse(),$(this).removeClass("active")):(tl_menu_nav.timeScale(1),tl_menu_nav.play(),$(this).addClass("active"))}),$(".js-go-to-about").click(function(e){e.preventDefault(),goToSelectedPage("about")}),$(".js-go-to-home").click(function(e){e.preventDefault(),goToSelectedPage("home")}),$(".js-go-to-contact").click(function(e){e.preventDefault(),goToSelectedPage("contact")}),$(".field-input").focus(function(){$(this).parent().addClass("is-focused has-label")}),$(".field-input").blur(function(){$parent=$(this).parent(),""===$(this).val()&&$parent.removeClass("has-label"),$parent.removeClass("is-focused")});var formMessages=$("#formMessages");$("#contactForm").validate({debug:!0,errorClass:"error",rules:{contactName:"required",contactEmail:{required:!0,email:!0},contactSubject:"required",contactBody:"required"},highlight:function(element,errorClass){$(element).parent().addClass(errorClass)},unhighlight:function(element,errorClass){$(element).parent().removeClass(errorClass)},invalidHandler:function(event,validator){var errors=validator.numberOfInvalids(),invalidFields=validator.invalidElements();errors>1?invalidFields.each(function(){""===$(this).val()&&formMessages.html("<p>Please fill all fields</p>").addClass("error").show()}):invalidFields.each(function(){""===$(this).val()?formMessages.html("<p>Please fill all fields</p>").addClass("error").show():"contactEmail"==$(this).attr("id")&&formMessages.html("<p>Please enter a valid email address</p>").addClass("error").show()})},submitHandler:function(form){var theForm=$("#contactForm"),formData=theForm.serialize();grecaptcha.getResponse()?($(formMessages).hide(),$.ajax({type:"POST",url:theForm.attr("action"),data:formData}).done(function(response){$(formMessages).removeClass("error"),$(formMessages).addClass("success"),$(formMessages).text(response),$(formMessages).show(),$("html, body").stop().animate({scrollTop:$(formMessages).offset().top-100},300,"swing"),theForm.trigger("reset"),theForm.hide()}).fail(function(data){$(formMessages).removeClass("success"),$(formMessages).addClass("error"),""!==data.responseText?($(formMessages).text(data.responseText).wrap("<p></p>"),$(formMessages).show(),$("html, body").stop().animate({scrollTop:$(formMessages).offset().top-100},300,"swing")):($(formMessages).text("Oops! An error occured and your message could not be sent.").wrap("<p></p>"),$(formMessages).show(),$("html, body").stop().animate({scrollTop:$(formMessages).offset().top-100},300,"swing"))})):(grecaptcha.reset(),grecaptcha.execute())}})});